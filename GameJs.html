<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>GameJs</title>
</head>
<body>
<audio src="ark - main theme.mp3" autoplay></audio>
<script type="text/javascript" src="keys.js"></script>
<script type="text/javascript" src="engine.js"></script>
<script type="text/javascript" src="graph.js"></script>
<script type="text/javascript" src="player.js"></script>
<script type="text/javascript" src="grid.js"></script>
<script type="text/javascript" src="ball.js"></script>
<canvas id='canvas' width="640" height="480" style="position: absolute; top: 0; left:0;"></canvas>							<!-- создаём область для отрисовки -->
<div style="position: absolute; top: 10px; left:10px;">Score: <b id="score">0</b><br>
Balls: <b id="hp">3</b></div>
<script type="text/javascript">
init();
var map = {
	color : '#D63D3D',
	width : 20,
	height : 20,
	offset : 5,

	tiles : [
		[0, 1, 1, 1, 0, 0, 1, 1, 1, 0],
		[0, 1, 0, 1, 0, 0, 1, 0, 1, 0],
		[0, 1, 1, 1, 0, 0, 1, 1, 1, 0],
		[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
		[0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
		[0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
		[0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
		[1, 1, 0, 0, 0, 0, 0, 0, 1, 1],
		[1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	],	
};
grid.create(map);

player.init(width/2, 140, '#FBAF41');
ball.init(player.x+Math.ceil(player.width/2), player.y-5, 5, '#2F3CCA');

var game = function () {
	fillAll('#ADD8E6');
	grid.draw();
	ball.collision();
	ball.move();
	ball.draw();
	player.move();
	player.draw();
	player.collision();

};

var menu = function(){
	fillAll('#ADD8E6');
	grid.draw();
	ball.draw();
	player.draw();
	if(isAnyKeyDown()){
		setGame(game)
	};	
}
startGame(menu);
</script>
</body>
</html>
